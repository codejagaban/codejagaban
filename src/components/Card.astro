---
type Props = {
  title: string;
  description?: string;
  href: string;
  date?: string;
  company?: string;
  tags?: string[];
};

const { href, title, description, date, tags, company } = Astro.props;
---

<a class="card" href={href} target="_blank" rel="noopener noreferrer">
  <div class="card-content">
    <div class="card-header">
      <h3 class="card-title">
        {title}
        {company && <span class="company">â€” {company}</span>}
      </h3>
      <svg
        class="arrow-icon"
        width="16"
        height="16"
        viewBox="0 0 16 16"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
      >
        <path
          d="M4 12L12 4M12 4H6M12 4V10"
          stroke="currentColor"
          stroke-width="1.5"
          stroke-linecap="round"
          stroke-linejoin="round"></path>
      </svg>
    </div>

    {description && <p class="card-description">{description}</p>}

    {date && <span class="card-date">{date}</span>}

    {
      tags && tags.length > 0 && (
        <div class="tag-container">
          {tags.map((tag) => (
            <span class="tag">{tag}</span>
          ))}
        </div>
      )
    }
  </div>
</a>

<style>
  .card {
    display: block;
    padding: var(--space-lg);
    margin: var(--space-md) 0;
    border: 1px solid var(--color-border);
    border-radius: var(--radius-lg);
    background: var(--color-bg-elevated);
    transition: all var(--transition-base);
    text-decoration: none;
  }

  .card:hover {
    border-color: var(--color-border-hover);
    box-shadow: var(--shadow-md);
    transform: translateY(-2px);
  }

  .card:hover .arrow-icon {
    transform: translate(2px, -2px);
    color: var(--color-accent);
  }

  .card-content {
    display: flex;
    flex-direction: column;
    gap: var(--space-sm);
  }

  .card-header {
    display: flex;
    justify-content: space-between;
    align-items: flex-start;
    gap: var(--space-md);
  }

  .card-title {
    font-size: var(--text-lg);
    font-weight: 500;
    color: var(--color-text);
    margin: 0;
    line-height: 1.4;
  }

  .company {
    font-weight: 400;
    color: var(--color-text-muted);
    font-style: italic;
  }

  .arrow-icon {
    flex-shrink: 0;
    color: var(--color-text-subtle);
    transition: all var(--transition-base);
    margin-top: 2px;
  }

  .card-description {
    font-size: var(--text-sm);
    color: var(--color-text-muted);
    margin: 0;
    line-height: 1.6;
  }

  .card-date {
    font-size: var(--text-xs);
    color: var(--color-text-subtle);
  }

  .tag-container {
    display: flex;
    flex-wrap: wrap;
    gap: var(--space-xs);
    margin-top: var(--space-sm);
  }

  .tag {
    font-size: var(--text-xs);
    padding: var(--space-xs) var(--space-sm);
    background: var(--color-bg-hover);
    border-radius: var(--radius-full);
    color: var(--color-text-muted);
    white-space: nowrap;
    transition: all var(--transition-fast);
  }

  .card:hover .tag {
    background: var(--color-accent-subtle);
    color: var(--color-accent);
  }
</style>
